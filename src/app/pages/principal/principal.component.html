<div class="centrar">
    <div *ngIf="!usuario" #else Usuario>
        <h2>ESCRIBE EL NOMBRE QUE QUIERAS</h2>
        Usuario: <input [(ngModel)]="usuarioTextBox" type="string" placeholder="Usuario"/>*
        <p *ngIf="errorElegido" style="color:#FF0000;">
            Este nombre ya está elegido. Coge otro
        </p>
        <p *ngIf="errorNombre" style="color:#FF0000;">
            Debes escribir un nombre de usuario
        </p>
        <p>
            <input type="submit" value="OK" (click)="setUsuario()"/>
        </p>
    </div>
    
    <div *ngIf="usuario">
        <p>
            EL SERVIDOR SIEMPRE TE ENVIARÁ EL MENSAJE CON LA CLAVE SIMÉTRICA AES (EXCEPTO FIRMA CIEGA)
        </p>
        <p>
            PUEDES ELEGIR SI TÚ LE QUIERES ENVIAR EL MENSAJE CON LA CLAVE SIMÉTRICA AES O CON LA CLAVE PÚBLICA DEL SERVIDOR
        </p>
        <p>
            TAMBIÉN PUEDES ELEGIR SI QUIERES QUE TE FIRME EL MENSAJE SIN SABER LO QUE ESTÁ FIRMANDO (FIRMA CIEGA)
        </p>

        <h2>QUIERES CAMBIARTE EL NOMBRE ? Ahora eres {{usuario}}</h2>
        Usuario: <input [(ngModel)]="usuarioTextBox" type="string" placeholder="Usuario"/>
        <p *ngIf="errorNombre" style="color:#FF0000;">
            Debes escribir un nombre de usuario
        </p> 
        <p *ngIf="errorElegido" style="color:#FF0000;">
            Este nombre ya está elegido. Coge otro
        </p>   
        <p>
            <input type="submit" value="OK" (click)="setUsuario()"/>
        </p> 

        <h2>ALGORITMOS DE NO REPUDIO</h2>
        Usuarios Conectados: <select [(ngModel)]="usuarioNoRepudio">
            <option *ngFor="let usuarioNR of usuarios" [value]="usuarioNR.nombre">{{usuarioNR.nombre}}</option>
        </select>*
        <p *ngIf="errorUsuario" style="color:#FF0000;">
            Debes seleccionar un usuario
        </p>
        <h2>Envía un mensaje para probar el algoritmo</h2>
        Mensaje: <input [(ngModel)]="mensajeAlgoritmo" type="string" placeholder="Mensaje"/>*
        <p *ngIf="errorMensajeAlgoritmo" style="color:#FF0000;">
            Debes escribir un mensaje
        </p>
        <p>
            <input type="submit" value="Enviar" [disabled]="enviado" (click)="enviar2()"/>
        </p>
        <div *ngIf="recibido">
        <p>
            ALGUIEN TE QUIERE ENVIAR UN MENSAJE
        </p>
        <input type="submit" value="Contestar" (click)="contestar()"/> 
        <input type="submit" value="Rechazar" (click)="rechazar()"/>
        </div>
        <p *ngIf="enviado">
            ESPERANDO RESPUESTA
        </p>
        <p *ngIf="contestado">
            HAN CONTESTADO
        </p>
        <h2>CIFRADOS</h2>
        Tipo de cifrado: <select [(ngModel)]="cifrado">
            <option value="RSA">RSA</option>
            <option value="AES">AES</option>
            <option value="Firma Ciega">Firma Ciega</option>
        </select>*
        <p *ngIf="errorCifrado" style="color:#FF0000;">
            Debes seleccionar un tipo de cifrado
        </p>
        <h2>Envía un mensaje para probar el cifrado</h2>
        Mensaje: <input [(ngModel)]="mensaje" type="string" placeholder="Mensaje"/>*
        <p *ngIf="errorMensaje" style="color:#FF0000;">
            Debes escribir un mensaje
        </p>
        <p>
            <input type="submit" value="Enviar" (click)="enviar()"/>
        </p>
        <div *ngIf = "mensajes && mensajes.length > 0">
            MENSAJES
            <p *ngFor = "let mensaje of mensajes">
                {{mensaje.usuario}}: {{mensaje.mensaje}}
            </p>
        </div>
    </div>
</div>